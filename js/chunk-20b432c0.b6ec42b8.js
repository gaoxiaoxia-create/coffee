(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20b432c0"],{"25ee":function(t,e,a){"use strict";a("be4d")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var i=a("1d80"),s=a("5899"),n="["+s+"]",r=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),c=function(t){return function(e){var a=String(i(e));return 1&t&&(a=a.replace(r,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5f6d":function(t,e,a){"use strict";a("c209")},"7c93":function(t,e,a){"use strict";a("d39a")},"928f":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg_box"},[a("div",{staticClass:"bg"},[a("div",{staticClass:"content"},[t._t("default")],2)])])},s=[],n={name:"BgBox"},r=n,o=(a("7c93"),a("2877")),c=Object(o["a"])(r,i,s,!1,null,"0af07a33",null);e["a"]=c.exports},"9d57":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order_item"},[a("div",{staticClass:"item clearfix"},[a("div",{staticClass:"left fl"},[a("img",{staticClass:"auto-img img",attrs:{src:t.item.small_img||t.item.smallImg,alt:""}})]),a("div",{staticClass:"right fl"},[a("div",{staticClass:"name-rule"},[a("div",{staticClass:"name"},[t._v(t._s(t.item.name))]),a("div",{staticClass:"rule"},[t._v(t._s(t.item.rule))])]),a("div",{staticClass:"enname"},[t._v(t._s(t.item.enname))]),a("div",{staticClass:"pri_count clearfix"},[a("div",{staticClass:"price fl"},[t._v("￥"+t._s(t.item.price))]),a("div",{staticClass:"count fr"},[t._v("x"+t._s(t.item.count))])])])])])},s=[],n={name:"OrderItem",props:{item:{type:Object,default:function(){return{name:"名称",rule:"规格",enname:"英文名称",price:0,count:1}}}}},r=n,o=(a("5f6d"),a("2877")),c=Object(o["a"])(r,i,s,!1,null,"e091d45e",null);e["a"]=c.exports},a434:function(t,e,a){"use strict";var i=a("23e7"),s=a("23cb"),n=a("a691"),r=a("50c4"),o=a("7b0b"),c=a("65f0"),l=a("8418"),d=a("1dde"),u=a("ae40"),f=d("splice"),m=u("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,h=Math.min,p=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!m},{splice:function(t,e){var a,i,d,u,f,m,b=o(this),_=r(b.length),I=s(t,_),C=arguments.length;if(0===C?a=i=0:1===C?(a=0,i=_-I):(a=C-2,i=h(v(n(e),0),_-I)),_+a-i>p)throw TypeError(g);for(d=c(b,i),u=0;u<i;u++)f=I+u,f in b&&l(d,u,b[f]);if(d.length=i,a<i){for(u=I;u<_-i;u++)f=u+i,m=u+a,f in b?b[m]=b[f]:delete b[m];for(u=_;u>_-i+a;u--)delete b[u-1]}else if(a>i)for(u=_-i;u>I;u--)f=u+i-1,m=u+a-1,f in b?b[m]=b[f]:delete b[m];for(u=0;u<a;u++)b[u+I]=arguments[u+2];return b.length=_-i+a,d}})},a9e3:function(t,e,a){"use strict";var i=a("83ab"),s=a("da84"),n=a("94ca"),r=a("6eeb"),o=a("5135"),c=a("c6b6"),l=a("7156"),d=a("c04e"),u=a("d039"),f=a("7c73"),m=a("241c").f,v=a("06cf").f,h=a("9bf2").f,p=a("58a8").trim,g="Number",b=s[g],_=b.prototype,I=c(f(_))==g,C=function(t){var e,a,i,s,n,r,o,c,l=d(t,!1);if("string"==typeof l&&l.length>2)if(l=p(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,s=49;break;case 79:case 111:i=8,s=55;break;default:return+l}for(n=l.slice(2),r=n.length,o=0;o<r;o++)if(c=n.charCodeAt(o),c<48||c>s)return NaN;return parseInt(n,i)}return+l};if(n(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var x,$=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof $&&(I?u((function(){_.valueOf.call(a)})):c(a)!=g)?l(new b(C(e)),a,$):C(e)},k=i?m(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;k.length>y;y++)o(b,x=k[y])&&!o($,x)&&h($,x,v(b,x));$.prototype=_,_.constructor=$,r(s,g,$)}},b059:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order_list"},[a("div",{staticClass:"productInfo"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"info fl"},[t._v(t._s(t.leftInfo))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"fr"},[t.isReceive?a("div",{staticClass:"com_del clearfix"},[a("div",{staticClass:"complete fl"},[t._v("已完成")]),a("div",{staticClass:"delete fl",on:{click:t.remove}},[a("van-icon",{attrs:{name:"delete",size:"19"}})],1)]):a("div",{staticClass:"sure",on:{click:t.confirmReceive}},[t._v(" 确认收货 ")])])]),a("div",{staticClass:"productItem"},[t._t("default")],2),a("div",{staticClass:"total clearfix"},[""!=t.date?a("div",{staticClass:"date"},[t._v(t._s(t.date))]):t._e(),a("div",{staticClass:"product_count fl"},[t._v("共计"+t._s(t.count)+"件商品")]),a("div",{staticClass:"price_count fr"},[t._v("合计￥"+t._s(t.total))])])]),a("div")])},s=[],n=(a("a9e3"),a("9d57")),r={components:{OrderItem:n["a"]},name:"OrderList",props:{leftInfo:{type:String,default:"左边标题"},rightInfo:{type:Boolean,default:!1},date:{type:String,default:"2020-01-02 00:20:03"},count:{type:Number,default:0},total:{type:[Number,String],default:0},isShow:{type:Boolean,default:!0},isReceive:{type:Boolean,default:!0}},methods:{remove:function(){this.$emit("remove")},confirmReceive:function(){this.$emit("confirm-receive")},showRight:function(){this.$emit("show-right")}}},o=r,c=(a("25ee"),a("2877")),l=Object(c["a"])(o,i,s,!1,null,"37fbdb6e",null);e["a"]=l.exports},be4d:function(t,e,a){},be7a:function(t,e,a){},c209:function(t,e,a){},cf2a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},[a("van-nav-bar",{attrs:{title:"我的订单","left-text":"返回","left-arrow":"",fixed:""},on:{"click-left":t.goback}}),a("BgBox",[t.isHas?a("div",[a("van-tabs",{on:{change:t.changeTab},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},t._l(t.nabTitle,(function(e,i){return a("van-tab",{key:i,attrs:{title:e.title}},[t.orderList.length>0?a("div",{staticClass:"content"},t._l(t.orderList,(function(e,i){return a("div",{key:i,staticClass:"item"},[a("OrderList",{attrs:{leftInfo:e.oid,date:t._f("formatDate")(e.date,"yyyy-MM-dd hh:mm:ss"),count:e.count,total:t._f("decimal")(e.total),"is-right":!0,"is-receive":2==e.status},on:{"confirm-receive":function(a){return t.confirmReceive(e,i)},remove:function(a){return t.removeOrder(e.oid,i)}}},t._l(e.data,(function(t,e){return a("OrderItem",{key:e,attrs:{item:t}})})),1)],1)})),0):a("div",[a("van-empty",{attrs:{description:"没有订单数据"}})],1)])})),1)],1):a("div",[a("van-empty",{attrs:{description:"没有订单数据"}})],1)])],1)},s=[],n=(a("d81d"),a("a434"),a("928f")),r=a("b059"),o=a("9d57"),c=(a("be7a"),{name:"Order",data:function(){return{tabIndex:0,nabTitle:[{title:"全部"},{title:"进行中"},{title:"已完成"}],orderList:[],isHas:!0}},components:{BgBox:n["a"],OrderList:r["a"],OrderItem:o["a"]},created:function(){this.orderData()},methods:{goback:function(){this.$router.go(-1)},changeTab:function(t,e){console.log("name ==> ",t),console.log("title ==> ",e),console.log("this.tabIndex ==> ",this.tabIndex),this.orderData()},orderData:function(t){var e=this,a=localStorage.getItem("tokenString");if(!a)return this.$toast("请先登录"),this.$router.push({name:"Login"});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"findOrder",params:{appkey:this.appkey,tokenString:a,status:this.tabIndex}}).then((function(t){if(e.$toast.clear(),700==t.data.code)e.$toast.push({name:"Login"});else if(7e4==t.data.code){if(e.$toast(t.data.msg),0==e.tabIndex&&0==t.data.result.length)return void(e.isHas=!1);var a=[];t.data.result.map((function(t){for(var e=0;e<a.length;e++)if(a[e].oid==t.oid)return a[e].data.push(t),a[e].count+=t.count,void(a[e].total+=t.count*t.price);var i={};i.oid=t.oid,i.count=t.count,i.total=t.count*t.price,i.status=t.status,i.date=t.createdAt,i.data=[t],a.push(i)})),e.orderList=a}})).catch((function(t){e.$toast.clear(),console.log(t)}))},confirmReceive:function(t,e){var a=this,i=localStorage.getItem("tokenString");if(!i)return this.$toast("请先登录"),this.$router.push({name:"Login"});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/receive",data:{appkey:this.appkey,tokenString:i,oid:t.oid}}).then((function(i){a.$toast.clear(),700==i.data.code?a.$router.push({name:"Login"}):8e4==i.data.code&&(1==a.tabIndex&&a.orderList.splice(e,1),t.status=2),a.$toast(i.data.msg)})).catch((function(t){a.$toast.clear(),console.log("err ==> ",t)}))},removeOrder:function(t,e){var a=this;console.log("index ==> ",e);var i=localStorage.getItem("tokenString");if(!i)return this.$toast("请先登录"),this.$router.push({name:"Login"});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/removeOrder",data:{appkey:this.appkey,tokenString:i,oid:t}}).then((function(t){a.$toast.clear(),700==t.data.code?a.$router.push({name:"Login"}):9e4==t.data.code&&a.orderList.splice(e,1),a.$toast(t.data.msg)})).catch((function(t){a.$toast.clear(),console.log("err ==> ",t)}))}}}),l=c,d=a("2877"),u=Object(d["a"])(l,i,s,!1,null,"49417046",null);e["default"]=u.exports},d39a:function(t,e,a){}}]);
//# sourceMappingURL=chunk-20b432c0.b6ec42b8.js.map