(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b8da927"],{"8b98":function(t,a,e){},"9a0b":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"menu"},[e("div",{staticClass:"search"},[e("van-search",{attrs:{placeholder:"请输入要搜索的商品"},on:{input:t.searchGoods},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}}),t.isSearch?e("div",{staticClass:"search-con"},t._l(t.searchData,(function(a,i){return e("div",{key:i,staticClass:"search-list"},[e("div",{on:{click:function(e){return t.goDetail(a.pid)}}},[t._v(t._s(a.name))])])})),0):t._e()],1),e("div",{staticClass:"tabList clearfix"},[e("div",{staticClass:"left fl"},[e("van-sidebar",{model:{value:t.activeKey,callback:function(a){t.activeKey=a},expression:"activeKey"}},t._l(t.productTitle,(function(a,i){return e("van-sidebar-item",{key:i,class:t.activeKey==i?"active":"",attrs:{title:a.title},on:{click:function(e){return t.toggleMenu(a,i,a.type)}}})})),1)],1),e("div",{staticClass:"right fl"},t._l(t.productData,(function(a,i){return e("div",{key:i,staticClass:"item clearfix",on:{click:function(e){return t.goDetail(a.pid)}}},[e("div",{staticClass:"img fl"},[e("img",{staticClass:"auto-img",attrs:{src:a.smallImg,alt:""}})]),e("div",{staticClass:"info fl"},[e("div",{staticClass:"name"},[t._v(t._s(a.name))]),e("div",{staticClass:"enname"},[t._v(t._s(a.enname))])]),e("div",{staticClass:"price fr"},[t._v("￥"+t._s(a.price))])])})),0)])])},s=[],c=(e("d81d"),e("8b98"),{name:"Menu",data:function(){return{value:"",activeKey:0,productTitle:[{title:"推荐"},{title:"咖啡"},{title:"拿铁"},{title:"瑞纳冰"}],productData:[],searchData:[],isSearch:!1}},created:function(){this.getTypes()},methods:{getTypes:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/type",params:{appkey:this.appkey}}).then((function(a){if(t.$toast.clear(),400==a.data.code){var e=a.data.result;e.unshift({type:"isHot",typeDesc:"推荐"}),t.productTitle.map((function(t){for(var a=0;a<e.length;a++)if(t.title==e[a].typeDesc){t.type=e[a].type;break}}));var i=t.productTitle[t.activeKey].type;t.getProductByType(i)}})).catch((function(a){t.$toast.clear(),console.log("err ==> ",a)}))},getProductByType:function(t){var a=this,e={appkey:this.appkey};"isHot"==t?(e.key="isHot",e.value=1):(e.key="type",e.value=t),this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/typeProducts",params:e}).then((function(t){a.$toast.clear(),500==t.data.code&&(a.productData=t.data.result)})).catch((function(t){a.$toast.clear(),console.log("err ==> ",t)}))},goDetail:function(t){this.$router.push({name:"Detail",params:{pid:t}})},toggleMenu:function(t,a,e){this.activeKey!=a&&(this.activeKey=a,this.getProductByType(e))},searchGoods:function(t){var a=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/search",params:{appkey:this.appkey,name:t}}).then((function(t){a.$toast.clear(),"Q001"==t.data.code&&(a.isSearch=!0,a.searchData=t.data.result)})).catch((function(t){a.$toast.clear()}))}}}),n=c,o=e("2877"),r=Object(o["a"])(n,i,s,!1,null,"134c604e",null);a["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2b8da927.ef80fc34.js.map