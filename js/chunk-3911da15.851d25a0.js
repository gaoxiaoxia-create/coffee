(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3911da15"],{a55b:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login"},[o("van-nav-bar",{attrs:{"right-text":"先瞧瞧？","border:false":""},on:{"click-right":e.goHome}}),e._m(0),o("div",{staticClass:"login_form"},[o("van-form",[o("div",{staticClass:"username"},[o("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",autocomplete:"off",color:"#fff"},model:{value:e.userInfo.phone,callback:function(t){e.$set(e.userInfo,"phone",t)},expression:"userInfo.phone"}})],1),o("div",{staticClass:"pdw"},[o("van-field",{attrs:{type:e.showPassword?"password":"text",name:"密码",label:"密码",placeholder:"密码","right-icon":e.showPassword?"closed-eye":"eye-o"},on:{"click-right-icon":e.showEye},model:{value:e.userInfo.password,callback:function(t){e.$set(e.userInfo,"password",t)},expression:"userInfo.password"}})],1),o("div",{staticClass:"pdw_forget"},[o("span",{on:{click:function(t){return e.forgotPsw("Forgot")}}},[e._v("忘记密码?")])]),o("div",{staticClass:"btn"},[o("div",{staticStyle:{margin:"16px"}},[o("van-button",{attrs:{round:"",block:"",color:" #780d00"},on:{click:e.login}},[e._v(" 登录 ")])],1),o("div",{staticStyle:{margin:"16px"}},[o("van-button",{attrs:{round:"",block:"",type:"default"},on:{click:e.showregisterbox}},[e._v(" 注册 ")])],1)])]),o("div",{staticClass:"register"},[o("van-popup",{staticClass:"register_item",attrs:{position:"bottom",closeable:""},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[o("div",{staticClass:"register_title"},[e._v(" 注册 ")]),o("van-form",[o("van-field",{attrs:{name:"手机号",label:"手机号",placeholder:"手机号"},model:{value:e.registerInfo.phone,callback:function(t){e.$set(e.registerInfo,"phone",t)},expression:"registerInfo.phone"}}),o("van-field",{attrs:{type:e.showPassword?"password":"text",name:"密码",label:"密码",placeholder:"密码","right-icon":e.showPassword?"closed-eye":"eye-o"},on:{"click-right-icon":e.showEye},model:{value:e.registerInfo.password,callback:function(t){e.$set(e.registerInfo,"password",t)},expression:"registerInfo.password"}}),o("van-field",{attrs:{type:"text",name:"昵称",label:"昵称",placeholder:"昵称"},model:{value:e.registerInfo.nickName,callback:function(t){e.$set(e.registerInfo,"nickName",t)},expression:"registerInfo.nickName"}}),o("div",{staticStyle:{margin:"16px"}},[o("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:e.register}},[e._v(" 注册 ")])],1)],1)],1)],1)],1)],1)},A=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"icon"},[s("img",{staticClass:"icon_bg auto-img",attrs:{src:o("ca52"),alt:""}}),s("div",{staticClass:"name"},[s("span",[e._v("咖趣")])])])}],a=(o("c25d"),o("e3a8")),r={name:"Login",data:function(){return{userInfo:{phone:"",password:""},registerInfo:{phone:"",password:"",nickName:""},isShow:!1,showPassword:!0}},methods:{showregisterbox:function(){this.isShow=!this.isShow},showEye:function(){this.showPassword=!this.showPassword},register:function(){var e=this,t={phone:{value:this.registerInfo.phone,errorMsg:"手机号格式不正确",reg:/^1[3-9]\d{9}$/},password:{value:this.registerInfo.password,errorMsg:"密码格式不正确",reg:/^[A-Za-z]\w{5,15}$/},nickName:{value:this.registerInfo.nickName,errorMsg:"昵称格式不正确",reg:/^[\w\u4e00-\u9fa5]{1,10}$/}},o=a["a"].valid(t);if(o){console.log("this.appkey ==> ",this.appkey);var s=Object.assign({},this.registerInfo);s.appkey=this.appkey,this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/register",data:s}).then((function(t){e.$toast.clear(),100==t.data.code?e.isShow=!1:e.$toast(t.data.msg)})).catch((function(t){e.$toast.clear(),console.log("err ==> ",t)}))}},login:function(){var e=this,t={phone:{value:this.userInfo.phone,errorMsg:"用户名格式不正确",reg:/^1[3-9]\d{9}$/},password:{value:this.userInfo.password,errorMsg:"密码格式不正确",reg:/^[A-Za-z]\w{5,15}$/}},o=a["a"].valid(t);if(o){var s=Object.assign({},this.userInfo);s.appkey=this.appkey,this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/login",data:s}).then((function(t){200==t.data.code?(e.$toast.clear(),localStorage.setItem("tokenString",t.data.token),e.$router.push({name:"Home"})):e.$toast(t.data.msg)})).catch((function(t){e.$toast.clear(),console.log("err ==> ",t)}))}},goHome:function(){this.$router.push({name:"Home"})},forgotPsw:function(e){this.$router.push({name:e})}}},n=r,i=o("2877"),l=Object(i["a"])(n,s,A,!1,null,null,null);t["default"]=l.exports},c25d:function(e,t,o){},ca52:function(e,t){e.exports="data:image/jpeg;base64,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"},e3a8:function(e,t,o){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var o=0;o<t.length;o++){var s=t[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function a(e,t,o){return t&&A(e.prototype,t),o&&A(e,o),e}o.d(t,"a",(function(){return l}));o("e7e5");var r=o("d399"),n=o("2b0e");n["a"].use(r["a"]);var i=function(){function e(){s(this,e)}return a(e,[{key:"valid",value:function(e){for(var t in e)if(!e[t].reg.test(e[t].value))return console.log(e[t].errorMsg),Object(r["a"])(e[t].errorMsg),!1;return!0}}]),e}(),l=new i}}]);
//# sourceMappingURL=chunk-3911da15.851d25a0.js.map